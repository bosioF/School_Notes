# Funzioni in bash
#sh

## Dichiarare una funzione

```sh
function func {
	#code
}
```

oppure

```sh
func() {
	#code
}
```

Le variabili sono **globali** se non specificato.
```sh
function func {
	a=0 #globale
	local a b #locale
}
```

## Chiamare una funzione

Una funzione può essere chiamata scrivendo il proprio nome
```sh
function func {
	#code
}

func
```
### Es.

```sh
function sum {
	local a b
	a=10
	b=20
	
	return $((a+b)) #il valore è sempre compreso tra 0 a 255
}

sum #chiamata 
res=$? #prende l'ultimo valore, in questo caso il ris. di sum(), conviene salvarselo per non perderlo

#OUTPUT: 30
```

## Passaggio di parametri

Dentro la funzione possiamo usare variabili come `$1` e `$2` per utilizzare i parametri che vengono passati

```sh
function sum {
	local a b
	a=$1
	b=$2
	
	return $((a+b)) #il valore è sempre compreso tra 0 a 255
}

sum 10 20
res=$?
echo "$res"

#OUTPUT: 30
```

Possiamo anche gestire il caso dove uno o più parametri mancano usando *-n*

```sh
function sum {
	local res=0
	if [[ -n $1 ]] && [[ -n $2 ]]; then
		local a b
		a=$1
		b=$2
		res=$((a+b))
	else
		echo "err"
	fi
	
	return $res #il valore è sempre compreso tra 0 a 255
}

sum 10 20
res=$?
echo "$res"
```

Possiamo ottenere il numero di parametri che sono stati passati alla funzione usando `$#`

```sh
function func {
	local n_params=$#
	echo "$n_params"
}

func 5
res=$?
echo "$res"

#OUTPUT: 1
```
